--- qemu_sendv_packet_async_OLD.c	2021-12-07 00:01:07.639154900 +0800
+++ qemu_sendv_packet_async_NEW.c	2021-12-07 00:01:07.640153500 +0800
@@ -3,10 +3,15 @@
                                 NetPacketSent *sent_cb)
 {
     NetQueue *queue;
+    size_t size = iov_size(iov, iovcnt);
     int ret;
 
+    if (size > NET_BUFSIZE) {
+        return size;
+    }
+
     if (sender->link_down || !sender->peer) {
-        return iov_size(iov, iovcnt);
+        return size;
     }
 
     /* Let filters handle the packet first */
