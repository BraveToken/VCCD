--- get_free_buddy_OLD.c	2021-12-07 00:16:15.991655100 +0800
+++ get_free_buddy_NEW.c	2021-12-07 00:16:15.992652600 +0800
@@ -20,10 +20,13 @@
         if ( node >= MAX_NUMNODES )
             node = cpu_to_node(smp_processor_id());
     }
+    else if ( unlikely(node >= MAX_NUMNODES) )
+    {
+        ASSERT_UNREACHABLE();
+        return NULL;
+    }
     first_node = node;
 
-    ASSERT(node < MAX_NUMNODES);
-
     /*
      * Start with requested node, but exhaust all node memory in requested 
      * zone before failing, only calc new node value if we fail to find memory 
