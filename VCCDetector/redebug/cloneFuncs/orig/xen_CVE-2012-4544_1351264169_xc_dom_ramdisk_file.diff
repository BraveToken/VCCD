--- xc_dom_ramdisk_file_OLD.c	2021-12-07 00:09:26.492897700 +0800
+++ xc_dom_ramdisk_file_NEW.c	2021-12-07 00:09:26.493918600 +0800
@@ -2,7 +2,9 @@
 {
     DOMPRINTF("%s: filename=\"%s\"", __FUNCTION__, filename);
     dom->ramdisk_blob =
-        xc_dom_malloc_filemap(dom, filename, &dom->ramdisk_size);
+        xc_dom_malloc_filemap(dom, filename, &dom->ramdisk_size,
+                              dom->max_ramdisk_size);
+
     if ( dom->ramdisk_blob == NULL )
         return -1;
 //    return xc_dom_try_gunzip(dom, &dom->ramdisk_blob, &dom->ramdisk_size);
