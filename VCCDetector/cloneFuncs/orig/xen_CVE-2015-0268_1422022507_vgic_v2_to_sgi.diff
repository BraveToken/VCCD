--- vgic_v2_to_sgi_OLD.c	2021-12-07 00:12:58.037102800 +0800
+++ vgic_v2_to_sgi_NEW.c	2021-12-07 00:12:58.038100000 +0800
@@ -23,7 +23,10 @@
         sgi_mode = SGI_TARGET_SELF;
         break;
     default:
-        BUG();
+        printk(XENLOG_G_DEBUG
+               "%pv: vGICD: unhandled GICD_SGIR write %"PRIregister" with wrong mode\n",
+               v, sgir);
+        return 0;
     }
 
     return vgic_to_sgi(v, sgir, sgi_mode, virq, vcpu_mask);
