--- cpu_handle_ioreq_OLD.c	2021-12-06 23:59:29.744982200 +0800
+++ cpu_handle_ioreq_NEW.c	2021-12-06 23:59:29.744982200 +0800
@@ -5,7 +5,11 @@
 
     handle_buffered_iopage(state);
     if (req) {
-        handle_ioreq(state, req);
+        ioreq_t copy = *req;
+
+        xen_rmb();
+        handle_ioreq(state, &copy);
+        req->data = copy.data;
 
         if (req->state != STATE_IOREQ_INPROCESS) {
             fprintf(stderr, "Badness in I/O request ... not in service?!: "
