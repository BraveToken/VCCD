--- ff_ivi_decode_frame_OLD.c	2021-12-06 23:19:01.678038100 +0800
+++ ff_ivi_decode_frame_NEW.c	2021-12-06 23:19:01.679035500 +0800
@@ -57,6 +57,7 @@
         avctx->release_buffer(avctx, &ctx->frame);
 
     ctx->frame.reference = 0;
+    avcodec_set_dimensions(avctx, ctx->planes[0].width, ctx->planes[0].height);
     if ((result = avctx->get_buffer(avctx, &ctx->frame)) < 0) {
         av_log(avctx, AV_LOG_ERROR, "get_buffer() failed\n");
         return result;
