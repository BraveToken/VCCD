--- mode_sense_page_OLD.c	2021-12-07 00:02:39.827591100 +0800
+++ mode_sense_page_NEW.c	2021-12-07 00:02:39.827591100 +0800
@@ -13,6 +13,7 @@
     uint8_t *p = *p_outbuf + 2;
     int length;
 
+    assert(page < ARRAY_SIZE(mode_sense_valid));
     if ((mode_sense_valid[page] & (1 << s->qdev.type)) == 0) {
         return -1;
     }
