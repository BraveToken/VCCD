--- drm_ioctl_OLD.c	2021-12-06 23:30:09.263520800 +0800
+++ drm_ioctl_NEW.c	2021-12-06 23:30:09.263520800 +0800
@@ -65,7 +65,9 @@
 				retcode = -EFAULT;
 				goto err_i1;
 			}
-		}
+		} else
+			memset(kdata, 0, _IOC_SIZE(cmd));
+
 		if (ioctl->flags & DRM_UNLOCKED)
 			retcode = func(dev, kdata, file_priv);
 		else {
