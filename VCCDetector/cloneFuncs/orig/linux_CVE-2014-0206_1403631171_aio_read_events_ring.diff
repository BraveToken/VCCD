--- aio_read_events_ring_OLD.c	2021-12-06 23:34:52.995653000 +0800
+++ aio_read_events_ring_NEW.c	2021-12-06 23:34:52.995653000 +0800
@@ -19,6 +19,9 @@
 	if (head == tail)
 		goto out;
 
+	head %= ctx->nr_events;
+	tail %= ctx->nr_events;
+
 	while (ret < nr) {
 		long avail;
 		struct io_event *ev;
