--- fdctrl_to_command_phase_OLD.c	2021-12-06 23:58:10.883898100 +0800
+++ fdctrl_to_command_phase_NEW.c	2021-12-06 23:58:10.884895700 +0800
@@ -3,5 +3,7 @@
     fdctrl->phase = FD_PHASE_COMMAND;
     fdctrl->data_dir = FD_DIR_WRITE;
     fdctrl->data_pos = 0;
+    fdctrl->data_len = 1; /* Accept command byte, adjust for params later */
     fdctrl->msr &= ~(FD_MSR_CMDBUSY | FD_MSR_DIO);
+    fdctrl->msr |= FD_MSR_RQM;
 }
