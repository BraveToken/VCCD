--- sock_getsockopt_OLD.c	2021-12-06 23:29:19.792834300 +0800
+++ sock_getsockopt_NEW.c	2021-12-06 23:29:19.792834300 +0800
@@ -17,7 +17,7 @@
 	if (len < 0)
 		return -EINVAL;
 
-	v.val = 0;
+	memset(&v, 0, sizeof(v));
 
 	switch(optname) {
 	case SO_DEBUG:
