--- apic_get_tmcct_OLD.c	2021-12-06 23:34:02.879692800 +0800
+++ apic_get_tmcct_NEW.c	2021-12-06 23:34:02.879692800 +0800
@@ -7,7 +7,8 @@
 	ASSERT(apic != NULL);
 
 	/* if initial count is 0, current count should also be 0 */
-	if (kvm_apic_get_reg(apic, APIC_TMICT) == 0)
+	if (kvm_apic_get_reg(apic, APIC_TMICT) == 0 ||
+		apic->lapic_timer.period == 0)
 		return 0;
 
 	remaining = hrtimer_get_remaining(&apic->lapic_timer.timer);
