--- do_tx_packet_OLD.c	2021-12-07 00:02:21.841665100 +0800
+++ do_tx_packet_NEW.c	2021-12-07 00:02:21.842662300 +0800
@@ -6,7 +6,7 @@
     /* FIXME: Honor TX disable, and allow queueing of packets.  */
     if (s->phy_control & 0x4000)  {
         /* This assumes the receive routine doesn't touch the VLANClient.  */
-        lan9118_receive(qemu_get_queue(s->nic), s->txp->data, s->txp->len);
+        qemu_receive_packet(qemu_get_queue(s->nic), s->txp->data, s->txp->len);
     } else {
         qemu_send_packet(qemu_get_queue(s->nic), s->txp->data, s->txp->len);
     }
