--- mpeg_decode_frame_OLD.c	2021-12-06 23:23:39.190805700 +0800
+++ mpeg_decode_frame_NEW.c	2021-12-06 23:23:39.191802300 +0800
@@ -32,8 +32,9 @@
 
     s->slice_count = 0;
 
-    if (avctx->extradata && !avctx->frame_number) {
+    if (avctx->extradata && !s->extradata_decoded) {
         int ret = decode_chunks(avctx, picture, got_output, avctx->extradata, avctx->extradata_size);
+        s->extradata_decoded = 1;
         if (ret < 0 && (avctx->err_recognition & AV_EF_EXPLODE))
             return ret;
     }
