--- safeputs_OLD.c	2021-12-07 00:03:47.115619900 +0800
+++ safeputs_NEW.c	2021-12-07 00:03:47.115619900 +0800
@@ -4,7 +4,7 @@
 {
 	u_int idx = 0;
 
-	while (*s && idx < maxlen) {
+	while (idx < maxlen && *s) {
 		safeputchar(ndo, *s);
 		idx++;
 		s++;
