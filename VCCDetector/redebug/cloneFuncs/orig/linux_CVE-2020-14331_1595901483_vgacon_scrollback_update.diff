--- vgacon_scrollback_update_OLD.c	2021-12-06 23:45:53.604823400 +0800
+++ vgacon_scrollback_update_NEW.c	2021-12-06 23:45:53.604823400 +0800
@@ -9,6 +9,10 @@
 	p = (void *) (c->vc_origin + t * c->vc_size_row);
 
 	while (count--) {
+		if ((vgacon_scrollback_cur->tail + c->vc_size_row) >
+		    vgacon_scrollback_cur->size)
+			vgacon_scrollback_cur->tail = 0;
+
 		scr_memcpyw(vgacon_scrollback_cur->data +
 			    vgacon_scrollback_cur->tail,
 			    p, c->vc_size_row);
