--- local_open2_OLD.c	2021-12-07 00:00:43.575506000 +0800
+++ local_open2_NEW.c	2021-12-07 00:00:43.576509700 +0800
@@ -5,6 +5,12 @@
     int err = -1;
     int dirfd;
 
+    if (fs_ctx->export_flags & V9FS_SM_MAPPED_FILE &&
+        local_is_mapped_file_metadata(fs_ctx, name)) {
+        errno = EINVAL;
+        return -1;
+    }
+
     /*
      * Mark all the open to not follow symlinks
      */
