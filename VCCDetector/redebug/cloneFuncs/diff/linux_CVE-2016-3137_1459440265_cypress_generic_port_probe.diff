--- cypress_generic_port_probe_OLD.c	2021-12-06 23:37:19.657393300 +0800
+++ cypress_generic_port_probe_NEW.c	2021-12-06 23:37:19.657393300 +0800
@@ -3,6 +3,11 @@
 	struct usb_serial *serial = port->serial;
 	struct cypress_private *priv;
 
+	if (!port->interrupt_out_urb || !port->interrupt_in_urb) {
+		dev_err(&port->dev, "required endpoint is missing\n");
+		return -ENODEV;
+	}
+
 	priv = kzalloc(sizeof(struct cypress_private), GFP_KERNEL);
 	if (!priv)
 		return -ENOMEM;
