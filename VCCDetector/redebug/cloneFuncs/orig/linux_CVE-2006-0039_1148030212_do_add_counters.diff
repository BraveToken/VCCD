--- do_add_counters_OLD.c	2021-12-06 23:27:58.145208200 +0800
+++ do_add_counters_NEW.c	2021-12-06 23:27:58.145208200 +0800
@@ -31,7 +31,7 @@
 
 	write_lock_bh(&t->lock);
 	private = t->private;
-	if (private->number != paddc->num_counters) {
+	if (private->number != tmp.num_counters) {
 		ret = -EINVAL;
 		goto unlock_up_free;
 	}
