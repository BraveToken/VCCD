--- v9fs_mark_fids_unreclaim_OLD.c	2021-12-07 00:02:05.927253200 +0800
+++ v9fs_mark_fids_unreclaim_NEW.c	2021-12-07 00:02:05.927253200 +0800
@@ -2,9 +2,9 @@
 {
     int err;
     V9fsState *s = pdu->s;
-    V9fsFidState *fidp, head_fid;
+    V9fsFidState *fidp;
 
-    head_fid.next = s->fid_list;
+again:
     for (fidp = s->fid_list; fidp; fidp = fidp->next) {
         if (fidp->path.size != path->size) {
             continue;
@@ -24,7 +24,7 @@
              * switched to the worker thread
              */
             if (err == 0) {
-                fidp = &head_fid;
+                goto again;
             }
         }
     }
