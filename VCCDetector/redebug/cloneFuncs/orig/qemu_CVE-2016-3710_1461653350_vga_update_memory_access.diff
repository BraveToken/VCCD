--- vga_update_memory_access_OLD.c	2021-12-06 23:59:00.912069500 +0800
+++ vga_update_memory_access_NEW.c	2021-12-06 23:59:00.913066800 +0800
@@ -35,6 +35,7 @@
             size = 0x8000;
             break;
         }
+        assert(offset + size <= s->vram_size);
         memory_region_init_alias(&s->chain4_alias, memory_region_owner(&s->vram),
                                  "vga.chain4", &s->vram, offset, size);
         memory_region_add_subregion_overlap(s->legacy_address_space, base,
