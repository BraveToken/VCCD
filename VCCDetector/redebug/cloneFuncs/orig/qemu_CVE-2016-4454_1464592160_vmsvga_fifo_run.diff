--- vmsvga_fifo_run_OLD.c	2021-12-06 23:59:19.259028500 +0800
+++ vmsvga_fifo_run_NEW.c	2021-12-06 23:59:19.260020300 +0800
@@ -9,7 +9,7 @@
     len = vmsvga_fifo_length(s);
     while (len > 0) {
         /* May need to go back to the start of the command if incomplete */
-        cmd_start = s->cmd->stop;
+        cmd_start = s->fifo_stop;
 
         switch (cmd = vmsvga_fifo_read(s)) {
         case SVGA_CMD_UPDATE:
@@ -168,7 +168,8 @@
             break;
 
         rewind:
-            s->cmd->stop = cmd_start;
+            s->fifo_stop = cmd_start;
+            s->fifo[SVGA_FIFO_STOP] = cpu_to_le32(s->fifo_stop);
             break;
         }
     }
