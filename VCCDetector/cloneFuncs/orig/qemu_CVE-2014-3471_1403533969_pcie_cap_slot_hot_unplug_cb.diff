--- pcie_cap_slot_hot_unplug_cb_OLD.c	2021-12-06 23:57:32.378884500 +0800
+++ pcie_cap_slot_hot_unplug_cb_NEW.c	2021-12-06 23:57:32.378884500 +0800
@@ -5,8 +5,5 @@
 
     pcie_cap_slot_hotplug_common(PCI_DEVICE(hotplug_dev), dev, &exp_cap, errp);
 
-    object_unparent(OBJECT(dev));
-    pci_word_test_and_clear_mask(exp_cap + PCI_EXP_SLTSTA,
-                                 PCI_EXP_SLTSTA_PDS);
-    pcie_cap_slot_event(PCI_DEVICE(hotplug_dev), PCI_EXP_HP_EV_PDC);
+    pcie_cap_slot_push_attention_button(PCI_DEVICE(hotplug_dev));
 }
