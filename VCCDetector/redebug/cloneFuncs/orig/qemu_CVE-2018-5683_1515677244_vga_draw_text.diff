--- vga_draw_text_OLD.c	2021-12-07 00:01:22.168286000 +0800
+++ vga_draw_text_NEW.c	2021-12-07 00:01:22.168286000 +0800
@@ -104,6 +104,9 @@
         cx_min = width;
         cx_max = -1;
         for(cx = 0; cx < width; cx++) {
+            if (src + sizeof(uint16_t) > s->vram_ptr + s->vram_size) {
+                break;
+            }
             ch_attr = *(uint16_t *)src;
             if (full_update || ch_attr != *ch_attr_ptr || src == cursor_ptr) {
                 if (cx < cx_min)
