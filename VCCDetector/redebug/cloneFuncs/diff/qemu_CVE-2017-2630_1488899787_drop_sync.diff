--- drop_sync_OLD.c	2021-12-07 00:00:33.154383400 +0800
+++ drop_sync_NEW.c	2021-12-07 00:00:33.154383400 +0800
@@ -4,7 +4,7 @@
     char small[1024];
     char *buffer;
 
-    buffer = sizeof(small) < size ? small : g_malloc(MIN(65536, size));
+    buffer = sizeof(small) >= size ? small : g_malloc(MIN(65536, size));
     while (size > 0) {
         ssize_t count = read_sync(ioc, buffer, MIN(65536, size));
 
