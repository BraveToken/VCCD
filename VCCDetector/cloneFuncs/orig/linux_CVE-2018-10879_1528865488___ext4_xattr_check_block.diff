--- __ext4_xattr_check_block_OLD.c	2021-12-06 23:41:28.900769000 +0800
+++ __ext4_xattr_check_block_NEW.c	2021-12-06 23:41:28.900769000 +0800
@@ -4,12 +4,12 @@
 {
 	int error = -EFSCORRUPTED;
 
-	if (buffer_verified(bh))
-		return 0;
-
 	if (BHDR(bh)->h_magic != cpu_to_le32(EXT4_XATTR_MAGIC) ||
 	    BHDR(bh)->h_blocks != cpu_to_le32(1))
 		goto errout;
+	if (buffer_verified(bh))
+		return 0;
+
 	error = -EFSBADCRC;
 	if (!ext4_xattr_block_csum_verify(inode, bh))
 		goto errout;
