--- sl_alloc_bufs_OLD.c	2021-12-06 23:36:58.568796600 +0800
+++ sl_alloc_bufs_NEW.c	2021-12-06 23:36:58.568796600 +0800
@@ -36,7 +36,7 @@
 	if (cbuff == NULL)
 		goto err_exit;
 	slcomp = slhc_init(16, 16);
-	if (slcomp == NULL)
+	if (IS_ERR(slcomp))
 		goto err_exit;
 #endif
 	spin_lock_bh(&sl->lock);
