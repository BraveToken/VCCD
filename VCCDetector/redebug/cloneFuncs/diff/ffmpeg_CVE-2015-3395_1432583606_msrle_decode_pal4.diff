--- msrle_decode_pal4_OLD.c	2021-12-06 23:20:53.522899100 +0800
+++ msrle_decode_pal4_NEW.c	2021-12-06 23:20:53.522899100 +0800
@@ -7,7 +7,7 @@
     unsigned int pixel_ptr = 0;
     int row_dec = pic->linesize[0];
     int row_ptr = (avctx->height - 1) * row_dec;
-    int frame_size = row_dec * avctx->height;
+    int frame_size = FFABS(row_dec) * avctx->height;
     int i;
 
     while (row_ptr >= 0) {
