--- t2p_readwrite_pdf_image_tile_OLD.c	2021-12-06 23:25:35.344142600 +0800
+++ t2p_readwrite_pdf_image_tile_NEW.c	2021-12-06 23:25:35.344142600 +0800
@@ -18,6 +18,10 @@
 	uint32 xuint32=0;
 #endif
 
+	/* Fail if prior error (in particular, can't trust tiff_datasize) */
+	if (t2p->t2p_error != T2P_ERR_OK)
+		return(0);
+
 	edge |= t2p_tile_is_right_edge(t2p->tiff_tiles[t2p->pdf_page], tile);
 	edge |= t2p_tile_is_bottom_edge(t2p->tiff_tiles[t2p->pdf_page], tile);
 
